(this["webpackJsonpbsaeball-team"]=this["webpackJsonpbsaeball-team"]||[]).push([[0],{116:function(e,t,n){e.exports=n(133)},121:function(e,t,n){},133:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(35),i=n.n(o),c=(n(121),n(31)),l=n(5),s=n(141),u=n(23),m=n(13),p=n(138),d=n(92),f=n(135),h=n(142),b=n(89),v=n(143),E=n(136),g=n(140),y=n(39),O=n(34),j=n.n(O),C=n(57),w=function(e,t){return Promise.resolve().then((function(){localStorage.setItem(e,t)}))},x=function(e){return Promise.resolve().then((function(){return localStorage.getItem(e)}))};function k(e){return S.apply(this,arguments)}function S(){return(S=Object(C.a)(j.a.mark((function e(t){var n,a,r,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("baseball-team");case 2:if((o=e.sent)&&(o=JSON.parse(o)),!((null===(n=o)||void 0===n?void 0:n.members)&&(null===(a=o)||void 0===a?void 0:a.team)&&(null===(r=o)||void 0===r?void 0:r.positionOptions))){e.next=8;break}return e.abrupt("return",o);case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return F.apply(this,arguments)}function F(){return(F=Object(C.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w("baseball-team",JSON.stringify(t));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){return function(){var t=Object(C.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("function"!==typeof e){t.next=9;break}return t.prev=1,t.next=4,e(n);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.log(t.t0);case 9:return t.abrupt("return",n);case 10:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}()}function P(e){return function(){var t=Object(C.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("function"!==typeof e){t.next=10;break}return t.prev=1,t.next=4,e(n);case 4:n=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.log(t.t0);case 10:return t.abrupt("return",n);case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()}var z="CREATE_TEAM",q="ADD_MEMBER",I=z,L=q,R="DATA_READY",N=r.a.createContext(),T=r.a.createContext(),D=["point guard (PG)","shooting guard (SG)","power forward (PF)","small forward (SF)","the center (C)"];function J(){var e=r.a.useContext(N);if(void 0===e)throw new Error("useCountState must be used within a CountProvider");return e}function B(){var e=r.a.useContext(T);if(void 0===e)throw new Error("useCountDispatch must be used within a CountProvider");return e}function H(e,t){t.type;var n=t.payload;return Object(m.a)(Object(m.a)({},e),n)}function V(e){var t=e.children,n=Object(a.useRef)({members:[],team:[],positionOptions:D}),o=r.a.useReducer(H,n.current),i=Object(c.a)(o,2),l=i[0],s=i[1];Object(a.useEffect)((function(){(function(){var e=Object(C.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(k)(t);case 2:n=e.sent,s({type:R,payload:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(n.current)}),[n]);var u=Object(a.useCallback)((function(e){return function(t){var n;switch(t.type){case L:var a=l.members.filter((function(e){return"".concat(e.fname).concat(e.lname).toLowerCase()==="".concat(t.payload.fname).concat(t.payload.lname).toLowerCase()}));a&&a.length&&(n=Object(m.a)({},l)),n=Object(m.a)(Object(m.a)({},l),{members:[].concat(Object(y.a)(l.members),[t.payload])}),M(A)(n).then((function(){e({type:t.type,payload:n})}),(function(e){return console.log("Failed writing to store")}));break;case I:n=Object(m.a)(Object(m.a)({},l),{team:t.payload}),M(A)(n).then((function(){e({type:t.type,payload:n})}),(function(e){return console.log("Failed reading from store")}));break;default:throw new Error("Unhandled action type: ".concat(t.type))}}}),[l]);return r.a.createElement(N.Provider,{value:l},r.a.createElement(T.Provider,{value:u(s)},t))}var _=n(14),G=n(144);var Y=r.a.memo((function(e){return r.a.createElement(G.a,e,e.children)})),Z=z;function $(){var e=B(),t=J(),n=t.members,o=t.team,i=t.positionOptions,s=Object(a.useState)([]),y=Object(c.a)(s,2),O=y[0],j=y[1],C=Object(p.a)(),w=Object(a.useState)({}),x=Object(c.a)(w,2),k=x[0],S=x[1],A=Object(a.useCallback)((function(e,t){var n={users:t.map((function(t){var n;return null!==(n=null===e||void 0===e?void 0:e[t])&&void 0!==n?n:""})),position:t.map((function(t){return(null===e||void 0===e?void 0:e[t])?t:""}))};S(n)}),[]);Object(a.useEffect)((function(){var e=(null===n||void 0===n?void 0:n.length)&&n.map((function(e){return"".concat(e.fname," ").concat(e.lname)}));j(e)}),[n]),Object(a.useEffect)((function(){A(o,i)}),[o,i,A]);var F=Object(a.useCallback)((function(t,n){var a=t.position.reduce((function(e,n,a){return Object(m.a)(Object(m.a)({},e),Object(u.a)({},n,t.users[a]))}),{});e({type:Z,payload:a}),n.setStatus({success:!0}),C({title:"Success",description:"Successfully created",status:"success",duration:2e3,position:"top-right",isClosable:!0}),n.setSubmitting(!1)}),[e,C]),M=Object(a.useCallback)((function(e,t,a){var r,o=t.users.filter((function(t){return t&&t===e})).length>1;if(e){if(o&&t.users[a]===e)r="Team member can't be repeated";else if(t.position[a]&&t.users[a]===e){var i,c,l;r=0===(null===(i=n.filter((function(n){return c="".concat(n.fname," ").concat(n.lname)===e?Array.isArray(n.position)?n.position.join(","):n.position:c,l="".concat(n.fname," ").concat(n.lname)===e?Array.isArray(n.position)&&n.position.length>1?"Member's  positions are \"".concat(c,"\" , the selected one doesn't match them"):"Member's  position is \"".concat(c,"\" , the selected one doesn't match with it"):l,"".concat(n.fname," ").concat(n.lname)===e&&(Array.isArray(n.position)?n.position.includes(t.position[a]):n.position===t.position[a])})))||void 0===i?void 0:i.length)?l:void 0}}else r="Team Member is required";return r}),[n]),P=Object(a.useCallback)((function(e,t,a){var r,o=t.position.filter((function(t){return t&&t===e})).length>1;if(e){if(o&&t.position[a]===e)r="Position can't be repeated";else if(t.users[a]&&t.position[a]===e){var i;r=0===(null===(i=n.filter((function(n){return(Array.isArray(n.position)?n.position.includes(e):n.position===e)&&"".concat(n.fname," ").concat(n.lname)===t.users[a]})))||void 0===i?void 0:i.length)?"Selcted position does not match that of the selected member's":void 0}}else r="Position is required";return r}),[n]);return r.a.createElement(d.a,{align:"center"},r.a.createElement(l.a,{w:"70%",h:"10"},r.a.createElement(f.a,{as:"h4",size:"md",p:4},"Compose bsae ball team"),r.a.createElement(_.d,{onSubmit:F,initialValues:k,enableReinitialize:!0},(function(e){return r.a.createElement(_.c,null,r.a.createElement(l.a,{w:"100%",p:4},r.a.createElement(h.a,{columns:2,spacingX:"40px",spacingY:"20px"},(null===i||void 0===i?void 0:i.length)&&i.map((function(t,n){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(l.a,{height:"80px"},r.a.createElement(_.b,{name:"users[".concat(n,"]"),validate:function(t){return M(t,e.values,n)}},(function(e){var t,a,o,i,c=e.field,l=e.form;return r.a.createElement(b.a,{isInvalid:(null===(t=l.errors)||void 0===t||null===(a=t.users)||void 0===a?void 0:a[n])&&(null===(o=l.touched)||void 0===o||null===(i=o.users)||void 0===i?void 0:i[n])},r.a.createElement(v.a,Object.assign({},c,{placeholder:"Choose Member"}),(null===O||void 0===O?void 0:O.length)&&O.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement(_.a,{component:Y,name:"users[".concat(n,"]")}))}))),r.a.createElement(l.a,{height:"80px"},r.a.createElement(_.b,{name:"position[".concat(n,"]"),validate:function(t){return P(t,e.values,n)}},(function(e){var t,a,o,c,l=e.field,s=e.form;return r.a.createElement(b.a,{isInvalid:(null===(t=s.errors)||void 0===t||null===(a=t.position)||void 0===a?void 0:a[n])&&(null===(o=s.touched)||void 0===o||null===(c=o.position)||void 0===c?void 0:c[n])},r.a.createElement(v.a,Object.assign({},l,{placeholder:"Choose Position"}),(null===i||void 0===i?void 0:i.length)&&i.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement(_.a,{component:Y,name:"position[".concat(n,"]")}))}))))})),r.a.createElement(l.a,{height:"70px"},r.a.createElement(b.a,null,r.a.createElement(E.a,{spacing:4},r.a.createElement(g.a,{variantColor:"gray",size:"md",type:"reset",onClick:function(){return e.resetForm(k)}},"Reset"),r.a.createElement(g.a,{variantColor:"blue",size:"md",isLoading:e.isSubmitting,type:"submit"},"Save")))))))}))))}var Q=n(115),U=n(114),X=n(137),K=n(113),W=n(46),ee=q,te=function(e){e.label;var t=Object(Q.a)(e,["label"]),n=Object(_.e)(t),a=Object(c.a)(n,2),o=a[0],i=a[1],l=t.options,s=i.setValue,u=t.isMulti,m=t.placeholder;return r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{isMulti:u,placeholder:m,options:l,value:o.value,name:o.name,onChange:function(e){return s(e)},instanceId:t.iid}))};function ne(){var e=B(),t=J(),n=t.members,o=t.positionOptions,i=Object(p.a)(),c=Object(a.useRef)({fname:"",lname:"",height:"",position:[]}),s=Object(a.useCallback)((function(e){var t=n.filter((function(t){return"".concat(t.fname).concat(t.lname).toLowerCase()==="".concat(e.fname).concat(e.lname).toLowerCase()}));return!t||!t.length}),[n]),u=r.a.useMemo((function(){return W.c({fname:W.d().label("First name").required().test("is-alpha","First name should contain characters only",(function(e){return/^[A-Za-z\s]+$/.test(e)})).test("unique-name","Name should be unique",(function(e){return s({fname:e,lname:this.parent.lname})})),lname:W.d().label("Last name").required().test("is-alpha","Last name should contain characters only",(function(e){return/^[A-Za-z\s]+$/.test(e)})).test("unique-name","Name should be unique",(function(e){return s({lname:e,fname:this.parent.fname})})),height:W.b().typeError("Height must be a number").label("Height").required().positive("should be a positive number"),position:W.a().min(1,"Choose at least one position").of(W.c().shape({value:W.d().required(),label:W.d().required()})).label("Position")})}),[s]),v=r.a.useMemo((function(){return o.map((function(e){return{value:e,label:e}}))}),[o]),y=Object(a.useCallback)((function(t,n){var a=Object(m.a)(Object(m.a)({},t),{position:t.position.map((function(e){return e.value}))});e({type:ee,payload:a}),n.resetForm(c.current),n.setStatus({success:!0}),i({title:"Success",description:"Added team member successfully",status:"success",duration:2e3,position:"top-right",isClosable:!0}),n.setSubmitting(!1)}),[e,i,c]);return r.a.createElement(d.a,{align:"center"},r.a.createElement(d.a,{size:"65%",align:"center",justify:"center"},r.a.createElement(l.a,{w:"100%",h:"10"},r.a.createElement(f.a,{as:"h4",size:"md",p:4},"Enter team member details"),r.a.createElement(_.d,{initialValues:c.current,onSubmit:y,validationSchema:u},(function(e){return r.a.createElement(_.c,null,r.a.createElement(l.a,{w:"100%",p:4},r.a.createElement(h.a,{columns:1,spacing:10},r.a.createElement(l.a,{height:"40px"},r.a.createElement(_.b,{name:"fname"},(function(e){var t=e.field,n=e.form;return r.a.createElement(b.a,{isInvalid:n.errors.fname&&n.touched.fname},r.a.createElement(U.a,Object.assign({},t,{type:"text",id:"f-name","aria-describedby":"Enter first name",placeholder:"First Name"})),r.a.createElement(_.a,{id:"first-name-helper-text",component:Y,name:"fname"}))}))),r.a.createElement(l.a,{height:"40px"},r.a.createElement(_.b,{name:"lname"},(function(e){var t=e.field,n=e.form;return r.a.createElement(b.a,{isInvalid:n.errors.lname&&n.touched.lname},r.a.createElement(U.a,Object.assign({},t,{type:"text",id:"l-name","aria-describedby":"Enter last name",placeholder:"Last Name"})),r.a.createElement(_.a,{id:"last-name-helper-text",component:Y,name:"lname"}))}))),r.a.createElement(l.a,{height:"40px"},r.a.createElement(_.b,{name:"height"},(function(e){var t=e.field,n=e.form;return r.a.createElement(b.a,{isInvalid:n.errors.height&&n.touched.height},r.a.createElement(U.a,Object.assign({},t,{type:"text",id:"l-height","aria-describedby":"Enter height in cm*",placeholder:"Height in cm"})),r.a.createElement(_.a,{id:"height-helper-text",component:Y,name:"height"}))}))),r.a.createElement(l.a,{height:"40px"},r.a.createElement(_.b,{name:"position"},(function(e){var t=e.field,n=e.form;return r.a.createElement(b.a,{isInvalid:n.errors.position&&n.touched.position},r.a.createElement(te,Object.assign({name:"position",isMulti:!0},t,{placeholder:"Choose Position",options:v})),r.a.createElement(_.a,{id:"email-helper-text",component:Y,name:"position"}))}))),r.a.createElement(l.a,{height:"70px"},r.a.createElement(b.a,null,r.a.createElement(E.a,{spacing:4},r.a.createElement(g.a,{variantColor:"gray",size:"md",type:"reset",onClick:function(){return e.resetForm(c.current)}},"Reset"),r.a.createElement(g.a,{variantColor:"blue",size:"md",isLoading:e.isSubmitting,type:"submit"},"Save")))))))})))),r.a.createElement(d.a,{size:"35%",align:"center",justify:"center"},r.a.createElement(l.a,{w:"100%",h:"10",p:8},n.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{as:"h4",size:"md"},"List of existing team members"),r.a.createElement(X.b,{as:"ol",styleType:"decimal"},null===n||void 0===n?void 0:n.map((function(e,t){return r.a.createElement(X.a,{key:"".concat(t)},e.fname," ",e.lname)})))))))}var ae=n(17),re=n(33),oe=n(25),ie=n(24),ce=function(e){Object(oe.a)(n,e);var t=Object(ie.a)(n);function n(){var e;Object(ae.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1},e}return Object(re.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log("componentStack:",t.componentStack),console.log("error:",t.error)}},{key:"render",value:function(){return this.state.hasError?r.a.createElement("h1",null,"Something went wrong."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(r.a.Component);function le(){var e=r.a.useState(0),t=Object(c.a)(e,2),n=t[0],a=t[1];return r.a.createElement(l.a,{w:"100%",p:4},r.a.createElement(s.f,{index:n,onChange:function(e){a(e)}},r.a.createElement(s.c,null,r.a.createElement(s.a,null,"Compose Team"),r.a.createElement(s.a,null,"First Quarter")),r.a.createElement(V,null,r.a.createElement(s.e,null,r.a.createElement(s.d,null,r.a.createElement(ne,null)),r.a.createElement(s.d,null,r.a.createElement($,null))))))}se=le,r.a.Component;var se;var ue=n(110),me=n(139),pe=n(21),de=n(145),fe=Object(m.a)(Object(m.a)({},me.a),{},{colors:Object(m.a)(Object(m.a)({},me.a.colors),{},{brand:{900:"#1a365d",800:"#153e75",700:"#2a69ac"}})}),he=function(e){var t=e.children;return r.a.createElement(pe.a,{theme:fe},r.a.createElement(de.a,null),t)};var be=function(){return r.a.createElement(he,null,r.a.createElement("div",{className:"App"},r.a.createElement(ue.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Baseball Team App"),r.a.createElement("link",{rel:"canonical",href:"https://reactjs.org/"})),r.a.createElement("header",{className:"App-header"}),r.a.createElement("main",null,r.a.createElement(le,null))))};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(be,null)),document.getElementById("root"))}},[[116,1,2]]]);
//# sourceMappingURL=main.b733fc96.chunk.js.map