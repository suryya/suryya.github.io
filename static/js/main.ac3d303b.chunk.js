(this["webpackJsonpbsaeball-team"]=this["webpackJsonpbsaeball-team"]||[]).push([[0],{110:function(e,t,n){e.exports=n(127)},115:function(e,t,n){},127:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(56),o=n.n(c),i=(n(115),n(37)),l=n(5),u=n(135),s=n(23),m=n(18),p=n(132),d=n(90),f=n(129),h=n(136),b=n(87),v=n(137),E=n(130),g=n(134),y=n(38),O=n(33),j=n.n(O),x=n(54),w=function(e,t){return Promise.resolve().then((function(){localStorage.setItem(e,t)}))},C=function(e){return Promise.resolve().then((function(){return localStorage.getItem(e)}))};function k(e){return S.apply(this,arguments)}function S(){return(S=Object(x.a)(j.a.mark((function e(t){var n,a,r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C("baseball-team");case 2:if((c=e.sent)&&(c=JSON.parse(c)),!((null===(n=c)||void 0===n?void 0:n.members)&&(null===(a=c)||void 0===a?void 0:a.team)&&(null===(r=c)||void 0===r?void 0:r.positionOptions))){e.next=8;break}return e.abrupt("return",c);case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return A.apply(this,arguments)}function A(){return(A=Object(x.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w("baseball-team",JSON.stringify(t));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){return function(){var t=Object(x.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("function"!==typeof e){t.next=9;break}return t.prev=1,t.next=4,e(n);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.log(t.t0);case 9:return t.abrupt("return",n);case 10:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}()}function z(e){return function(){var t=Object(x.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("function"!==typeof e){t.next=10;break}return t.prev=1,t.next=4,e(n);case 4:n=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.log(t.t0);case 10:return t.abrupt("return",n);case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()}var q="CREATE_TEAM",L="ADD_MEMBER",I=q,R=L,T="DATA_READY",M=r.a.createContext(),N=r.a.createContext(),D=["point guard (PG)","shooting guard (SG)","power forward (PF)","small forward (SF)","the center (C)"];function J(){var e=r.a.useContext(M);if(void 0===e)throw new Error("useCountState must be used within a CountProvider");return e}function B(){var e=r.a.useContext(N);if(void 0===e)throw new Error("useCountDispatch must be used within a CountProvider");return e}function H(e,t){t.type;var n=t.payload;return Object(m.a)(Object(m.a)({},e),n)}function _(e){var t=e.children,n=Object(a.useRef)({members:[],team:[],positionOptions:D}),c=r.a.useReducer(H,n.current),o=Object(i.a)(c,2),l=o[0],u=o[1];Object(a.useEffect)((function(){(function(){var e=Object(x.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(k)(t);case 2:n=e.sent,u({type:T,payload:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(n.current)}),[n]);var s=Object(a.useCallback)((function(e){return function(t){var n;switch(t.type){case R:var a=l.members.filter((function(e){return"".concat(e.fname).concat(e.lname).toLowerCase()==="".concat(t.payload.fname).concat(t.payload.lname).toLowerCase()}));a&&a.length&&(n=Object(m.a)({},l)),n=Object(m.a)(Object(m.a)({},l),{members:[].concat(Object(y.a)(l.members),[t.payload])}),P(F)(n).then((function(){e({type:t.type,payload:n})}),(function(e){return console.log("Failed writing to store")}));break;case I:n=Object(m.a)(Object(m.a)({},l),{team:t.payload}),P(F)(n).then((function(){e({type:t.type,payload:n})}),(function(e){return console.log("Failed reading from store")}));break;default:throw new Error("Unhandled action type: ".concat(t.type))}}}),[l]);return r.a.createElement(M.Provider,{value:l},r.a.createElement(N.Provider,{value:s(u)},t))}var G=n(14),V=n(138);var Y=r.a.memo((function(e){return r.a.createElement(V.a,e,e.children)})),Z=q;function $(){var e=B(),t=J(),n=t.members,c=t.team,o=t.positionOptions,u=Object(a.useState)([]),y=Object(i.a)(u,2),O=y[0],j=y[1],x=Object(p.a)(),w=Object(a.useState)({}),C=Object(i.a)(w,2),k=C[0],S=C[1],F=Object(a.useCallback)((function(e,t){var n={users:t.map((function(t){var n;return null!==(n=null===e||void 0===e?void 0:e[t])&&void 0!==n?n:""})),position:t.map((function(t){return(null===e||void 0===e?void 0:e[t])?t:""}))};S(n)}),[]);Object(a.useEffect)((function(){var e=(null===n||void 0===n?void 0:n.length)&&n.map((function(e){return"".concat(e.fname," ").concat(e.lname)}));j(e)}),[n]),Object(a.useEffect)((function(){F(c,o)}),[c,o,F]);var A=Object(a.useCallback)((function(t,n){var a=t.position.reduce((function(e,n,a){return Object(m.a)(Object(m.a)({},e),Object(s.a)({},n,t.users[a]))}),{});e({type:Z,payload:a}),n.setStatus({success:!0}),x({title:"Success",description:"Team successfully created",status:"success",duration:2e3,position:"top-right",isClosable:!0}),n.setSubmitting(!1)}),[e,x]),P=Object(a.useCallback)((function(e,t,a){var r,c=t.users.filter((function(t){return t&&t===e})).length>1;if(e){if(c&&t.users[a]===e)r="Team member can't be repeated";else if(t.position[a]&&t.users[a]===e){var o,i;r=0===(null===(o=n.filter((function(n){return i="".concat(n.fname," ").concat(n.lname)===e?n.position:i,"".concat(n.fname," ").concat(n.lname)===e&&n.position===t.position[a]})))||void 0===o?void 0:o.length)?"Member's position is \"".concat(i,"\" , it doesn't match the selected one"):void 0}}else r="Team Member is required";return r}),[n]),z=Object(a.useCallback)((function(e,t,a){var r,c=t.position.filter((function(t){return t&&t===e})).length>1;if(e){if(c&&t.position[a]===e)r="Position can't be repeated";else if(t.users[a]&&t.position[a]===e){var o;r=0===(null===(o=n.filter((function(n){return"".concat(n.position)===e&&"".concat(n.fname," ").concat(n.lname)===t.users[a]})))||void 0===o?void 0:o.length)?"Selcted position does not match that of the selected member's":void 0}}else r="Position is required";return r}),[n]);return r.a.createElement(d.a,{align:"center"},r.a.createElement(l.a,{w:"70%",h:"10"},r.a.createElement(f.a,{as:"h4",size:"md",p:4},"Compose bsae ball team"),r.a.createElement(G.d,{onSubmit:A,initialValues:k,enableReinitialize:!0},(function(e){return r.a.createElement(G.c,null,r.a.createElement(l.a,{w:"100%",p:4},r.a.createElement(h.a,{columns:2,spacingX:"40px",spacingY:"20px"},(null===o||void 0===o?void 0:o.length)&&o.map((function(t,n){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(l.a,{height:"80px"},r.a.createElement(G.b,{name:"users[".concat(n,"]"),validate:function(t){return P(t,e.values,n)}},(function(e){var t,a,c,o,i=e.field,l=e.form;return r.a.createElement(b.a,{isInvalid:(null===(t=l.errors)||void 0===t||null===(a=t.users)||void 0===a?void 0:a[n])&&(null===(c=l.touched)||void 0===c||null===(o=c.users)||void 0===o?void 0:o[n])},r.a.createElement(v.a,Object.assign({},i,{placeholder:"Choose Member"}),(null===O||void 0===O?void 0:O.length)&&O.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement(G.a,{component:Y,name:"users[".concat(n,"]")}))}))),r.a.createElement(l.a,{height:"80px"},r.a.createElement(G.b,{name:"position[".concat(n,"]"),validate:function(t){return z(t,e.values,n)}},(function(e){var t,a,c,i,l=e.field,u=e.form;return r.a.createElement(b.a,{isInvalid:(null===(t=u.errors)||void 0===t||null===(a=t.position)||void 0===a?void 0:a[n])&&(null===(c=u.touched)||void 0===c||null===(i=c.position)||void 0===i?void 0:i[n])},r.a.createElement(v.a,Object.assign({},l,{placeholder:"Choose Position"}),(null===o||void 0===o?void 0:o.length)&&o.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement(G.a,{component:Y,name:"position[".concat(n,"]")}))}))))})),r.a.createElement(l.a,{height:"70px"},r.a.createElement(b.a,null,r.a.createElement(E.a,{spacing:4},r.a.createElement(g.a,{variantColor:"gray",size:"md",type:"reset",onClick:function(){return e.resetForm(k)}},"Reset"),r.a.createElement(g.a,{variantColor:"blue",size:"md",isLoading:e.isSubmitting,type:"submit"},"Save")))))))}))))}var Q=n(109),U=n(131),X=n(71),K=L;function W(){var e=B(),t=J(),n=t.members,c=t.positionOptions,o=Object(p.a)(),i=Object(a.useRef)({fname:"",lname:"",height:"",position:""}),u=Object(a.useCallback)((function(e){var t=n.filter((function(t){return"".concat(t.fname).concat(t.lname).toLowerCase()==="".concat(e.fname).concat(e.lname).toLowerCase()}));return!t||!t.length}),[n]),s=r.a.useMemo((function(){return X.b({fname:X.c().label("First name").required().test("is-alpha","First name should contain characters only",(function(e){return/^[A-Za-z\s]+$/.test(e)})).test("unique-name","Name should be unique",(function(e){return u({fname:e,lname:this.parent.lname})})),lname:X.c().label("Last name").required().test("is-alpha","Last name should contain characters only",(function(e){return/^[A-Za-z\s]+$/.test(e)})).test("unique-name","Name should be unique",(function(e){return u({lname:e,fname:this.parent.fname})})),height:X.a().typeError("Height must be a number").label("Height").required().positive("should be a positive number"),position:X.c().label("Position").required()})}),[u]),m=Object(a.useCallback)((function(t,n){e({type:K,payload:t}),n.resetForm(i.current),n.setStatus({success:!0}),o({title:"Success",description:"Added team member successfully",status:"success",duration:2e3,position:"top-right",isClosable:!0}),n.setSubmitting(!1)}),[e,o,i]);return r.a.createElement(d.a,{align:"center"},r.a.createElement(d.a,{size:"65%",align:"center",justify:"center"},r.a.createElement(l.a,{w:"100%",h:"10"},r.a.createElement(f.a,{as:"h4",size:"md",p:4},"Enter team member details"),r.a.createElement(G.d,{initialValues:i.current,onSubmit:m,validationSchema:s},(function(e){return r.a.createElement(G.c,null,r.a.createElement(l.a,{w:"100%",p:4},r.a.createElement(h.a,{columns:1,spacing:10},r.a.createElement(l.a,{height:"40px"},r.a.createElement(G.b,{name:"fname"},(function(e){var t=e.field,n=e.form;return r.a.createElement(b.a,{isInvalid:n.errors.fname&&n.touched.fname},r.a.createElement(Q.a,Object.assign({},t,{type:"text",id:"f-name","aria-describedby":"Enter first name",placeholder:"First Name"})),r.a.createElement(G.a,{id:"first-name-helper-text",component:Y,name:"fname"}))}))),r.a.createElement(l.a,{height:"40px"},r.a.createElement(G.b,{name:"lname"},(function(e){var t=e.field,n=e.form;return r.a.createElement(b.a,{isInvalid:n.errors.lname&&n.touched.lname},r.a.createElement(Q.a,Object.assign({},t,{type:"text",id:"l-name","aria-describedby":"Enter last name",placeholder:"Last Name"})),r.a.createElement(G.a,{id:"last-name-helper-text",component:Y,name:"lname"}))}))),r.a.createElement(l.a,{height:"40px"},r.a.createElement(G.b,{name:"height"},(function(e){var t=e.field,n=e.form;return r.a.createElement(b.a,{isInvalid:n.errors.height&&n.touched.height},r.a.createElement(Q.a,Object.assign({},t,{type:"text",id:"l-height","aria-describedby":"Enter height in cm*",placeholder:"Height in cm"})),r.a.createElement(G.a,{id:"height-helper-text",component:Y,name:"height"}))}))),r.a.createElement(l.a,{height:"40px"},r.a.createElement(G.b,{name:"position"},(function(e){var t=e.field,n=e.form;return r.a.createElement(b.a,{isInvalid:n.errors.position&&n.touched.position},r.a.createElement(v.a,Object.assign({},t,{placeholder:"Choose Position"}),(null===c||void 0===c?void 0:c.length)&&c.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement(G.a,{id:"email-helper-text",component:Y,name:"position"}))}))),r.a.createElement(l.a,{height:"70px"},r.a.createElement(b.a,null,r.a.createElement(E.a,{spacing:4},r.a.createElement(g.a,{variantColor:"gray",size:"md",type:"reset",onClick:function(){return e.resetForm(i.current)}},"Reset"),r.a.createElement(g.a,{variantColor:"blue",size:"md",isLoading:e.isSubmitting,type:"submit"},"Save")))))))})))),r.a.createElement(d.a,{size:"35%",align:"center",justify:"center"},r.a.createElement(l.a,{w:"100%",h:"10",p:8},n.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{as:"h4",size:"md"},"List of existing team members"),r.a.createElement(U.b,{as:"ol",styleType:"decimal"},null===n||void 0===n?void 0:n.map((function(e,t){return r.a.createElement(U.a,{key:"".concat(t)},e.fname," ",e.lname)})))))))}var ee=n(16),te=n(32),ne=n(25),ae=n(24),re=function(e){Object(ne.a)(n,e);var t=Object(ae.a)(n);function n(){var e;Object(ee.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1},e}return Object(te.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log("componentStack:",t.componentStack),console.log("error:",t.error)}},{key:"render",value:function(){return this.state.hasError?r.a.createElement("h1",null,"Something went wrong."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(r.a.Component);function ce(){var e=r.a.useState(0),t=Object(i.a)(e,2),n=t[0],a=t[1];return r.a.createElement(l.a,{w:"100%",p:4},r.a.createElement(u.f,{index:n,onChange:function(e){a(e)}},r.a.createElement(u.c,null,r.a.createElement(u.a,null,"Compose Team"),r.a.createElement(u.a,null,"First Quarter")),r.a.createElement(_,null,r.a.createElement(u.e,null,r.a.createElement(u.d,null,r.a.createElement(W,null)),r.a.createElement(u.d,null,r.a.createElement($,null))))))}oe=ce,r.a.Component;var oe;var ie=n(106),le=n(133),ue=n(21),se=n(139),me=Object(m.a)(Object(m.a)({},le.a),{},{colors:Object(m.a)(Object(m.a)({},le.a.colors),{},{brand:{900:"#1a365d",800:"#153e75",700:"#2a69ac"}})}),pe=function(e){var t=e.children;return r.a.createElement(ue.a,{theme:me},r.a.createElement(se.a,null),t)};var de=function(){return r.a.createElement(pe,null,r.a.createElement("div",{className:"App"},r.a.createElement(ie.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Baseball Team App"),r.a.createElement("link",{rel:"canonical",href:"https://reactjs.org/"})),r.a.createElement("header",{className:"App-header"}),r.a.createElement("main",null,r.a.createElement(ce,null))))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(de,null)),document.getElementById("root"))}},[[110,1,2]]]);
//# sourceMappingURL=main.ac3d303b.chunk.js.map